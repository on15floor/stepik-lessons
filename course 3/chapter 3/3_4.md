# 3.4 Скрипты на bash: разно
---
ШАГ_3_Вопрос: Какие(ая) из предложенных ниже инструкций увеличат значение переменной а на значение переменной b? Например, если в а было записано 10, в b было 5, то в а должно записаться 15.  
**Ответы:**
* `let a=a+b`
* `let a= $a+ $b`
* `let "a= $a+ $b"`
* `let "a+=b"`
* `let "a = a + b"`

ШАГ_5_Вопрос: Пусть вы находитесь в директории /home/bi/Documents/ и запускаете в ней скрипт...  
**Ответ:** `/home/bi`

ШАГ_6_Вопрос: Однако как быть, если хочется всё-таки запустить программу program, которая пишет что-то в stdout и потом выполнить какие-то действия если ее код возврата равен 0? Выберите все верные утверждения или правильно работающие конструкции if.  
**Ответы:** 
* Сначала запустить program, затем if [[ $? -eq 0 ]]
* if `program > some_file.txt`

ШАГ_8_Вопрос: Впишите в форму ниже строку, которую выведет на экран команда echo "counters are $c1 and $c2" если она находится в скрипте после десяти вызовов функции counter с параметрами сначала 1, затем 2, затем 3 и т.д., последний вызов с параметром 10.  
**Ответ:** counters are  and 110

ШАГ_9_Вопрос: Напишите скрипт на bash, который будет искать наибольший общий делитель (НОД, greatest common divisor, GCD) двух чисел. При запуске ваш скрипт не должен ничего писать на экран, а просто ждет ввода двух натуральных чисел через пробел (для этого можно использовать read и указать ему две переменные -- см. пример в видеофрагменте). После ввода чисел скрипт считает их НОД и выводит на экран сообщение "GCD is <посчитанное значение>", например, для чисел 15 и 25 это будет "GCD is 5". После этого скрипт опять входит в режим ожидания двух натуральных чисел. Если в какой-то момент работы пользователь ввел вместо этого пустую строку, то нужно написать на экран "bye" и закончить свою работу.  
**Ответ:** 
```bash
gcd ()
{
	if [[ $1 -eq $2 ]]
	then
		echo "GCD is $1"
	elif [[ $1 -gt $2 ]]
	then
		let "c = $1 - $2"
		gcd $c $2
	else
		let "c = $2 - $1"
		gcd $1 $c
	fi
}
while [[ true ]]
do
	read a b
	if [[ $a == "" ]]
	then
		echo bye
		break	
	else
		gcd $a $b
	fi
done
```

ШАГ_10_Вопрос: Напишите калькулятор на bash. При запуске ваш скрипт должен ожидать ввода пользователем команды (при этом на экран выводить ничего не нужно). Команды могут быть трех типов.  
**Ответ:**
```bash
while true; do
        read p1 p2 p3
        if [[ $p1 == "exit" ]]; then echo bye; exit; fi
        case $p2 in
                "+") echo $(( $p1 + $p3 ));;
                "-") echo $(( $p1 - $p3 ));;
                "*") echo $(( $p1 * $p3 ));;
                "/") echo $(( $p1 / $p3 ));;
                "%") echo $(( $p1 % $p3 ));;
                "**") echo $(( $p1 ** $p3 ));;
                *) echo error; exit;;
        esac
done
```